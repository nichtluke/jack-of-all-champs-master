<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>NeutralinoJs sample app</title>
    <link rel="icon" type="image/png" href="filler.png">
    <link rel="stylesheet" href="styles.css">
    <!--<link rel="stylesheet" href="stylesChamps.css">-->
    <link rel="stylesheet" href="empty.css">
  </head>
  <body>
    <div>
      <div class="joacLogo"><img onclick="eastereggOpgg()" src="./pics/headlineJoac.png"></div>
      </div>
      
  <div class="grid-container">
    <div class="grid-item"><img onclick="change('aatrox')" src="pics/aatrox.png"          class="aatrox"></div>
    <div class="grid-item"><img onclick="change('ahri')" src="pics/ahri.png"              class="ahri"></div>
    <div class="grid-item"><img onclick="change('akali')" src="pics/akali.png"            class="ahri"></div>
    <div class="grid-item"><img onclick="change('akshan')" src="pics/akshan.png"          class="akshan"></div>
    <div class="grid-item"><img onclick="change('alistar')" src="pics/alistar.png"        class="alistar"></div>
    <div class="grid-item"><img onclick="change('amumu')" src="pics/amumu.png"            class="amumu"></div>  
    <div class="grid-item"><img onclick="change('anivia')" src="pics/anivia.png"          class="anivia"></div>
    <div class="grid-item"><img onclick="change('annie')" src="pics/annie.png"            class="annie"></div>
    <div class="grid-item"><img onclick="change('aphelios')" src="pics/aphelios.png"      class="aphelios"></div>
    <div class="grid-item"><img onclick="change('ashe')" src="pics/ashe.png"              class="ashe"></div>
    <div class="grid-item"><img onclick="change('aurelion_sol')" src="pics/aurelion_sol.png" class="aurelion_sol"></div>
    <div class="grid-item"><img onclick="change('azir')" src="pics/azir.png"              class="azir"></div>
    <div class="grid-item"><img onclick="change('bard')" src="pics/bard.png"              class="bard"></div>
    <div class="grid-item"><img onclick="change('belveth')" src="pics/belveth.png"        class="belveth"></div>
    <div class="grid-item"><img onclick="change('blitzcrank')" src="pics/blitzcrank.png"  class="blitzcrank"></div>
    <div class="grid-item"><img onclick="change('brand')" src="pics/brand.png"            class="brand"></div>
    <div class="grid-item"><img onclick="change('braum')" src="pics/braum.png"            class="braum"></div>
    <div class="grid-item"><img onclick="change('caitlyn')" src="pics/caitlyn.png"        class="caitlyn"></div>
    <div class="grid-item"><img onclick="change('camille')" src="pics/camille.png"        class="camille"></div>
    <div class="grid-item"><img onclick="change('cassiopeia')" src="pics/cassiopeia.png"  class="cassiopeia"></div>
    <div class="grid-item"><img onclick="change('chogath')" src="pics/chogath.png"        class="chogath"></div>
    <div class="grid-item"><img onclick="change('corki')" src="pics/corki.png"            class="corki"></div>
    <div class="grid-item"><img onclick="change('darius')" src="pics/darius.png"          class="darius"></div>
    <div class="grid-item"><img onclick="change('diana')" src="pics/diana.png"            class="diana"></div>
    <div class="grid-item"><img onclick="change('dr_mundo')" src="pics/dr_mundo.png"      class="dr_mundo"></div>
    <div class="grid-item"><img onclick="change('draven')" src="pics/draven.png"          class="draven"></div>
    <div class="grid-item"><img onclick="change('ekko')" src="pics/ekko.png"              class="ekko"></div>
    <div class="grid-item"><img onclick="change('ellise')" src="pics/ellise.png"          class="ellise"></div>
    <div class="grid-item"><img onclick="change('evelynn')" src="pics/evelynn.png"        class="evelynn"></div>
    <div class="grid-item"><img onclick="change('ezreal')" src="pics/ezreal.png"          class="ezreal"></div>
    <div class="grid-item"><img onclick="change('fiddlesticks')" src="pics/fiddlesticks.png" class="fiddlesticks"></div>
    <div class="grid-item"><img onclick="change('fiora')" src="pics/fiora.png"            class="fiora"></div>  
    <div class="grid-item"><img onclick="change('fizz')" src="pics/fizz.png"              class="fizz"></div>
    <div class="grid-item"><img onclick="change('galio')" src="pics/galio.png"            class="galio"></div>
    <div class="grid-item"><img onclick="change('gankplank')" src="pics/gankplank.png"    class="gankplank"></div>
    <div class="grid-item"><img onclick="change('garen')" src="pics/garen.png"            class="garen"></div>
    <div class="grid-item"><img onclick="change('gnar')" src="pics/gnar.png"              class="gnar"></div>
    <div class="grid-item"><img onclick="change('gragas')" src="pics/gragas.png"          class="gragas"></div>
    <div class="grid-item"><img onclick="change('gragas')" src="pics/graves.png"          class="graves"></div>
    <div class="grid-item"><img onclick="change('gwen')" src="pics/gwen.png"              class="gwen"></div>
    <div class="grid-item"><img onclick="change('hecarim')" src="pics/hecarim.png"        class="hecarim"></div>
    <div class="grid-item"><img onclick="change('heimerdinger')" src="pics/heimerdinger.png" class="heimerdinger"></div>
    <div class="grid-item"><img onclick="change('illaoi')" src="pics/illaoi.png"          class="illaoi"></div>
    <div class="grid-item"><img onclick="change('irelia')" src="pics/irelia.png"          class="irelia"></div>
    <div class="grid-item"><img onclick="change('ivern')" src="pics/ivern.png"            class="ivern"></div>
    <div class="grid-item"><img onclick="change('janna')" src="pics/janna.png"            class="janna"></div>
    <div class="grid-item"><img onclick="change('jarvan')" src="pics/jarvan.png"          class="jarvan"></div>
    <div class="grid-item"><img onclick="change('jax')" src="pics/jax.png"                class="jax"></div>
    <div class="grid-item"><img onclick="change('jayce')" src="pics/jayce.png"            class="jayce"></div>
    <div class="grid-item"><img onclick="change('jhin')" src="pics/jhin.png"              class="jhin"></div>
    <div class="grid-item"><img onclick="change('jinx')" src="pics/jinx.png"              class="jinx"></div>
    <div class="grid-item"><img onclick="change('kaisa')" src="pics/kaisa.png"            class="kaisa"></div>
    <div class="grid-item"><img onclick="change('kalista')" src="pics/kalista.png"        class="kalista"></div>
    <div class="grid-item"><img onclick="change('karma')" src="pics/karma.png"            class="karma"></div>
    <div class="grid-item"><img onclick="change('karthus')" src="pics/karthus.png"        class="karthus"></div>
    <div class="grid-item"><img onclick="change('kassadin')" src="pics/kassadin.png"      class="kassadin"></div>
    <div class="grid-item"><img onclick="change('katarina')" src="pics/katarina.png"      class="katarina"></div>
    <div class="grid-item"><img onclick="change('kayle')" src="pics/kayle.png"            class="kayle"></div>
    <div class="grid-item"><img onclick="change('kayn')" src="pics/kayn.png"              class="kayn"></div>
    <div class="grid-item"><img onclick="change('kennen')" src="pics/kennen.png"          class="kennen"></div>
    <div class="grid-item"><img onclick="change('khazix')" src="pics/khazix.png"          class="khazix"></div>
    <div class="grid-item"><img onclick="change('kindred')" src="pics/kindred.png"        class="kindred"></div>
    <div class="grid-item"><img onclick="change('kled')" src="pics/kled.png"              class="kled"></div>
    <div class="grid-item"><img onclick="change('kogmaw')" src="pics/kogmaw.png"          class="kogmaw"></div>
    <div class="grid-item"><img onclick="change('leblanc')" src="pics/leblanc.png"        class="leblanc"></div>
    <div class="grid-item"><img onclick="change('lee_sin')" src="pics/lee_sin.png"        class="lee_sin"></div>
    <div class="grid-item"><img onclick="change('leona')" src="pics/leona.png"            class="leona"></div>
    <div class="grid-item"><img onclick="change('lillia')" src="pics/lillia.png"          class="lillia"></div>
    <div class="grid-item"><img onclick="change('lissandra')" src="pics/lissandra.png"    class="lissandra"></div>
    <div class="grid-item"><img onclick="change('lucian')" src="pics/lucian.png"          class="lucian"></div>
    <div class="grid-item"><img onclick="change('lulu')" src="pics/lulu.png"              class="lulu"></div>
    <div class="grid-item"><img onclick="change('lux')" src="pics/lux.png"                class="lux"></div>
    <div class="grid-item"><img onclick="change('malphite')" src="pics/malphite.png"      class="malphite"></div>
    <div class="grid-item"><img onclick="change('malzahar')" src="pics/malzahar.png"      class="malzahar"></div>
    <div class="grid-item"><img onclick="change('maokai')" src="pics/maokai.png"          class="maokai"></div>
    <div class="grid-item"><img onclick="change('miss_fortune')" src="pics/miss_fortune.png" class="miss_fortune"></div>
    <div class="grid-item"><img onclick="change('mordekaiser')" src="pics/mordekaiser.png" class="mordekaiser"></div>
    <div class="grid-item"><img onclick="change('morgana')" src="pics/morgana.png"        class="morgana"></div>
    <div class="grid-item"><img onclick="change('nami')" src="pics/nami.png"              class="nami"></div>
    <div class="grid-item"><img onclick="change('nasus')" src="pics/nasus.png"            class="nasus"></div>
    <div class="grid-item"><img onclick="change('nautilus')" src="pics/nautilus.png"      class="nautilus"></div>
    <div class="grid-item"><img onclick="change('neeko')" src="pics/neeko.png"            class="neeko"></div>
    <div class="grid-item"><img onclick="change('nidalee')" src="pics/nidalee.png"        class="nidalee"></div>
    <div class="grid-item"><img onclick="change('nilah')" src="pics/nilah.png"            class="nilah"></div>
    <div class="grid-item"><img onclick="change('nocturne')" src="pics/nocturne.png"      class="nocturne"></div>
    <div class="grid-item"><img onclick="change('nunu_and_willump')" src="pics/nunu_and_willump.png" class="nunu_and_willump"></div>
    <div class="grid-item"><img onclick="change('olaf')" src="pics/olaf.png"              class="olaf"></div>
    <div class="grid-item"><img onclick="change('orianna')" src="pics/orianna.png"        class="orianna"></div>
    <div class="grid-item"><img onclick="change('ornn')" src="pics/ornn.png"              class="ornn"></div>
    <div class="grid-item"><img onclick="change('pantheon')" src="pics/pantheon.png"      class="pantheon"></div>
    <div class="grid-item"><img onclick="change('poppy')" src="pics/poppy.png"            class="poppy"></div>
    <div class="grid-item"><img onclick="change('pyke')" src="pics/pyke.png"              class="pyke"></div>
    <div class="grid-item"><img onclick="change('qiyana')" src="pics/qiyana.png"          class="qiyana"></div>
    <div class="grid-item"><img onclick="change('quinn')" src="pics/quinn.png"            class="quinn"></div>
    <div class="grid-item"><img onclick="change('rakan')" src="pics/rakan.png"            class="rakan"></div>
    <div class="grid-item"><img onclick="change('rammus')" src="pics/rammus.png"          class="rammus"></div>
    <div class="grid-item"><img onclick="change('reksai')" src="pics/reksai.png"          class="reksai"></div>
    <div class="grid-item"><img onclick="change('rell')" src="pics/rell.png"              class="rell"></div>
    <div class="grid-item"><img onclick="change('renata_glasc')" src="pics/renata_glasc.png" class="renata_glasc"></div>
    <div class="grid-item"><img onclick="change('renekton')" src="pics/renekton.png"      class="renekton"></div>
    <div class="grid-item"><img onclick="change('rengar')" src="pics/rengar.png"          class="rengar"></div>
    <div class="grid-item"><img onclick="change('riven')" src="pics/riven.png"            class="riven"></div>
    <div class="grid-item"><img onclick="change('rumble')" src="pics/rumble.png"          class="rumble"></div>
    <div class="grid-item"><img onclick="change('ryze')" src="pics/ryze.png"              class="ryze"></div>
    <div class="grid-item"><img onclick="change('samira')" src="pics/samira.png"          class="samira"></div>
    <div class="grid-item"><img onclick="change('sejuani')" src="pics/sejuani.png"        class="sejuani"></div>
    <div class="grid-item"><img onclick="change('senna')" src="pics/senna.png"            class="senna"></div>
    <div class="grid-item"><img onclick="change('seraphine')" src="pics/seraphine.png"    class="seraphine"></div>
    <div class="grid-item"><img onclick="change('sett')" src="pics/sett.png"              class="sett"></div>
    <div class="grid-item"><img onclick="change('shaco')" src="pics/shaco.png"            class="shaco"></div>
    <div class="grid-item"><img onclick="change('shen')" src="pics/shen.png"              class="shen"></div>
    <div class="grid-item"><img onclick="change('shyvana')" src="pics/shyvana.png"        class="shyvana"></div>
    <div class="grid-item"><img onclick="change('singed')" src="pics/singed.png"          class="singed"></div>
    <div class="grid-item"><img onclick="change('sion')" src="pics/sion.png"              class="sion"></div>
    <div class="grid-item"><img onclick="change('sivir')" src="pics/sivir.png"            class="sivir"></div>
    <div class="grid-item"><img onclick="change('skarner')" src="pics/skarner.png"        class="skarner"></div>
    <div class="grid-item"><img onclick="change('sona')" src="pics/sona.png"              class="sona"></div>
    <div class="grid-item"><img onclick="change('soraka')" src="pics/soraka.png"          class="soraka"></div>
    <div class="grid-item"><img onclick="change('swain')" src="pics/swain.png"            class="swain"></div>
    <div class="grid-item"><img onclick="change('sylas')" src="pics/sylas.png"            class="sylas"></div>
    <div class="grid-item"><img onclick="change('syndra')" src="pics/syndra.png"          class="syndra"></div>
    <div class="grid-item"><img onclick="change('taliyah')" src="pics/taliyah.png"        class="taliyah"></div>
    <div class="grid-item"><img onclick="change('talon')" src="pics/talon.png"            class="talon"></div>
    <div class="grid-item"><img onclick="change('taric')" src="pics/taric.png"            class="taric"></div>
    <div class="grid-item"><img onclick="change('teemo')" src="pics/teemo.png"            class="teemo"></div>
    <div class="grid-item"><img onclick="change('tham_kench')" src="pics/tham_kench.png"  class="tham_kench"></div>
    <div class="grid-item"><img onclick="change('thresh')" src="pics/thresh.png"          class="thresh"></div>
    <div class="grid-item"><img onclick="change('tristana')" src="pics/tristana.png"      class="tristana"></div>
    <div class="grid-item"><img onclick="change('trundle')" src="pics/trundle.png"        class="trundle"></div>
    <div class="grid-item"><img onclick="change('tryndamere')" src="pics/tryndamere.png"  class="tryndamere"></div>
    <div class="grid-item"><img onclick="change('twisted_fate')" src="pics/twisted_fate.png" class="twisted_fate"></div>
    <div class="grid-item"><img onclick="change('twitch')" src="pics/twitch.png"          class="twitch"></div>
    <div class="grid-item"><img onclick="change('udyr')" src="pics/udyr.png"              class="udyr"></div>
    <div class="grid-item"><img onclick="change('urgot')" src="pics/urgot.png"            class="urgot"></div>
    <div class="grid-item"><img onclick="change('varus')" src="pics/varus.png"            class="varus"></div>
    <div class="grid-item"><img onclick="change('vayne')" src="pics/vayne.png"            class="vayne"></div>
    <div class="grid-item"><img onclick="change('veigar')" src="pics/veigar.png"          class="veigar"></div>
    <div class="grid-item"><img onclick="change('velkoz')" src="pics/velkoz.png"          class="velkoz"></div>
    <div class="grid-item"><img onclick="change('vex')" src="pics/vex.png"                class="vex"></div>
    <div class="grid-item"><img onclick="change('vi')" src="pics/vi.png"                  class="vi"></div>
    <div class="grid-item"><img onclick="change('viego')" src="pics/viego.png"            class="viego"></div>
    <div class="grid-item"><img onclick="change('viktor')" src="pics/viktor.png"          class="viktor"></div>
    <div class="grid-item"><img onclick="change('vladimir')" src="pics/vladimir.png"      class="vladimir"></div>
    <div class="grid-item"><img onclick="change('volibear')" src="pics/volibear.png"      class="volibear"></div>
    <div class="grid-item"><img onclick="change('warwick')" src="pics/warwick.png"        class="warwick"></div>
    <div class="grid-item"><img onclick="change('wukong')" src="pics/wukong.png"          class="wukong"></div>
    <div class="grid-item"><img onclick="change('xayah')" src="pics/xayah.png"            class="xayah"></div>
    <div class="grid-item"><img onclick="change('xerath')" src="pics/xerath.png"          class="xerath"></div>
    <div class="grid-item"><img onclick="change('xin_zhao')" src="pics/xin_zhao.png"      class="xin_zhao"></div>
    <div class="grid-item"><img onclick="change('yasuo')" src="pics/yasuo.png"            class="yasuo"></div>
    <div class="grid-item"><img onclick="change('yone')" src="pics/yone.png"              class="yone"></div>
    <div class="grid-item"><img onclick="change('yorik')" src="pics/yorik.png"            class="yorik"></div>
    <div class="grid-item"><img onclick="change('yuumi')" src="pics/yuumi.png"            class="yuumi"></div>
    <div class="grid-item"><img onclick="change('zac')" src="pics/zac.png"                class="zac"></div>
    <div class="grid-item"><img onclick="change('zed')" src="pics/zed.png"                class="zed"></div>
    <div class="grid-item"><img onclick="change('zeri')" src="pics/ziggs.png"             class="ziggs"></div>
    <div class="grid-item"><img onclick="change('ziggs')" src="pics/zilean.png"           class="zilean"></div>
    <div class="grid-item"><img onclick="change('zilean')" src="pics/zoe.png"             class="zoe"></div>
    <div class="grid-item"><img onclick="change('zoe')" src="pics/zeri.png"               class="zeri"></div>
    <div class="grid-item"><img onclick="change('zyra')" src="pics/zyra.png"              class="zyra"></div>
  </div>
      <div class="divInputButton">
          <button class="hvr-underline-from-center" onclick="save()" type="button">Save</button>
      </div>
    <script src="js/neutralino.js"></script>
    <script>
      Neutralino.init();
      //const element = document.getElementById();
      //element.addEventListener("click", read);

      function C (name, status){
        this.name = name,
        this.status = status
      }
      
      async function change(id) {
        let data = await Neutralino.filesystem.readFile('./resources/import.txt');
        const champArray = data.split('\n');
        var list = [];
        for (let i = 0; i < champArray.length; i++){
          let currentChamp = champArray[i].split(', ');
          const c = new C(currentChamp[0], currentChamp[1]);
          list.push(c);
        }
        let currentObeject = list.find(i => i.name == id);
        if (currentObeject.status.slice(0,-1) === "done"){
          currentObeject.status = "open";
        }else{
          currentObeject.status = "done";
        }
        let thisChamp = currentObeject.name;
        const index = list.findIndex(currentObeject => currentObeject.name === id);
        list[index] = currentObeject;

        var backArray = [];
        for (j = 0; j<list.length; j++){
        var k = list[j];
        backArray[j] = k.name + ", " + k.status;
        }
        
        var newAllText = backArray.join('\n');
        console.log(newAllText);

        //await Neutralino.filesystem.writeFile('./resources/import.txt', newAllText);

        //const res = str.split(/\, |\n/);

        
        let cssData = await Neutralino.filesystem.readFile('./resources/empty.css');

        //let id = thisChamp;
        let search = "." + thisChamp + " {filter: grayscale";
        let res = cssData.split(/\(|%|\n/);
        //let index = res.indexOf(search);
        let valueIndex = res.indexOf(search) + 1;
        let value = res[valueIndex]
        if (value == "0"){
            value = "100"
        }else{
            value = "0"};
        res[valueIndex] = value;
        let cssArray = [];
        for (let k = 0; k < res.length -1 ;){
            cssArray[k/3] = res[k] + "(" + res[k+1] + "%" + res[k+2] + "\n";
            k = k + 3;
        };
        let cssString = cssArray.join("");
        console.log(cssString);

        await Neutralino.filesystem.writeFile('./resources/empty.css', cssString);



      }

      
  async function eastereggOpgg() {

    Neutralino.init();

    let ign = await Neutralino.filesystem.readFile('./resources/config.txt');
    let link = "https://www.op.gg/summoners/euw/" + ign;
    window.open(link, "", "width=1500, height=800");
  }
    </script>
  </body>
</html>